# ğŸ° RabbitHoles â€” å¼€æºçŸ¥è¯†æ¢ç´¢å·¥å…·
> é€šè¿‡ AI é©±åŠ¨çš„äº¤äº’å¼æ€ç»´å¯¼å›¾ï¼Œæ·±å…¥æ¢ç´¢ä»»ä½•çŸ¥è¯†é¢†åŸŸï¼Œå‘ç°æ„æƒ³ä¸åˆ°çš„å…³è”ã€‚

---

## ğŸ“– ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [è·å– API Key](#è·å–-api-key)
- [æœ¬åœ°å¼€å‘éƒ¨ç½²](#æœ¬åœ°å¼€å‘éƒ¨ç½²)
- [Docker éƒ¨ç½²](#docker-éƒ¨ç½²)
- [Railway ä¸€é”®éƒ¨ç½²](#railway-ä¸€é”®éƒ¨ç½²)
- [ç¯å¢ƒå˜é‡è¯´æ˜](#ç¯å¢ƒå˜é‡è¯´æ˜)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [JSON å¯¼å…¥/å¯¼å‡º](#json-å¯¼å…¥å¯¼å‡º)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)

---

## é¡¹ç›®ç®€ä»‹

RabbitHoles æ˜¯ä¸€æ¬¾å¼€æºçš„çŸ¥è¯†æ¢ç´¢å·¥å…·ï¼Œçµæ„Ÿæ¥è‡ªåŒååº”ç”¨ã€‚å®ƒç»“åˆäº† **Tavily** å®æ—¶æœç´¢å’Œ **Google Gemini** å¤§è¯­è¨€æ¨¡å‹ï¼Œå°†ä½ çš„æé—®è½¬åŒ–ä¸ºå¯äº¤äº’çš„çŸ¥è¯†å›¾è°±ï¼Œå¸®åŠ©ä½ æ²¿ç€çŸ¥è¯†çš„"å…”å­æ´"ä¸æ–­æ·±æŒ–ï¼Œå‘ç°ä¸»é¢˜ä¹‹é—´çš„éšè—è”ç³»ã€‚

---

## åŠŸèƒ½ç‰¹æ€§

- ğŸ—ºï¸ **äº¤äº’å¼æ€ç»´å¯¼å›¾** â€” åŸºäº React Flow çš„å¯è§†åŒ–çŸ¥è¯†ç½‘ç»œ
- ğŸ¤– **AI å†…å®¹ç”Ÿæˆ** â€” ç”± Google Gemini æä¾›æ·±åº¦å†…å®¹ä¸è¿½é—®å»ºè®®
- ğŸ” **å®æ—¶ç½‘ç»œæœç´¢** â€” Tavily æœç´¢å¼•æ“æä¾›æœ€æ–°èµ„æ–™ä¸æ¥æºå¼•ç”¨
- ğŸŒ¿ **è‡ªå®šä¹‰åˆ†æ”¯** â€” åœ¨æœç´¢å‰é¢„ç½®è‡ªå®šä¹‰é—®é¢˜åˆ†æ”¯
- ğŸ’¬ **è¿½é—®åŠŸèƒ½** â€” å¯¹ä»»æ„ä¸»å†…å®¹å¡å‘èµ·åç»­è¿½é—®
- ğŸ“¥ **JSON å¯¼å…¥/å¯¼å‡º** â€” ä¿å­˜ä¸æ¢å¤æ¢ç´¢ä¼šè¯ï¼ˆè¯¦è§ä¸‹æ–¹è¯´æ˜ï¼‰
- ğŸŒ™ **æš—è‰²ä¸»é¢˜** â€” ç²¾ç¾çš„æ·±è‰² UI è®¾è®¡

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯
| æŠ€æœ¯ | ç”¨é€” |
|---|---|
| React + TypeScript | UI æ¡†æ¶ |
| React Flow | çŸ¥è¯†å›¾è°±å¯è§†åŒ– |
| Tailwind CSS | æ ·å¼ |
| Dagre | å›¾å¸ƒå±€ç®—æ³• |
| GSAP | åŠ¨ç”»æ•ˆæœ |

### åç«¯
| æŠ€æœ¯ | ç”¨é€” |
|---|---|
| Node.js + Express | Web æœåŠ¡å™¨ |
| TypeScript | ç±»å‹å®‰å…¨ |
| Tavily API | ç½‘ç»œæœç´¢ |
| Google Gemini API | å¤§è¯­è¨€æ¨¡å‹ |

---

## è·å– API Key

åœ¨éƒ¨ç½²å‰ï¼Œä½ éœ€è¦å‡†å¤‡ä¸¤ä¸ª API Keyï¼š

### 1. Tavily API Keyï¼ˆæœç´¢æœåŠ¡ï¼‰

1. è®¿é—® [https://tavily.com](https://tavily.com)
2. æ³¨å†Œè´¦å·ï¼ˆæ”¯æŒ Google ç™»å½•ï¼‰
3. è¿›å…¥æ§åˆ¶å° â†’ **API Keys** â†’ ç‚¹å‡» **Generate API Key**
4. å¤åˆ¶ä»¥ `tvly-` å¼€å¤´çš„ Key

> ğŸ’¡ Tavily æä¾›æ¯æœˆ **1,000 æ¬¡å…è´¹æœç´¢**ï¼Œä¸ªäººä½¿ç”¨å®Œå…¨å¤Ÿç”¨ã€‚

### 2. Google AI API Keyï¼ˆGemini æ¨¡å‹ï¼‰

1. è®¿é—® [https://aistudio.google.com/app/apikey](https://aistudio.google.com/app/apikey)
2. ä½¿ç”¨ Google è´¦å·ç™»å½•
3. ç‚¹å‡» **Create API key** â†’ é€‰æ‹©æˆ–æ–°å»º Google Cloud é¡¹ç›®
4. å¤åˆ¶ç”Ÿæˆçš„ API Key

> ğŸ’¡ Google AI Studio æä¾› **å…è´¹é…é¢**ï¼ˆgemini-1.5-flash æ¯åˆ†é’Ÿ 15 æ¬¡è¯·æ±‚ï¼Œæ¯å¤© 1500 æ¬¡ï¼‰ï¼Œä¸ªäººæ¢ç´¢ä½¿ç”¨å®Œå…¨å…è´¹ã€‚

---

## æœ¬åœ°å¼€å‘éƒ¨ç½²

é€‚åˆæƒ³è¦åœ¨æœ¬æœºè¿è¡Œæˆ–äºŒæ¬¡å¼€å‘çš„ç”¨æˆ·ã€‚

### å‰ç½®è¦æ±‚

- **Node.js 18+** â€” [ä¸‹è½½åœ°å€](https://nodejs.org/)
- **npm** æˆ– **yarn**
- Git

### ç¬¬ä¸€æ­¥ï¼šå…‹éš†é¡¹ç›®

```bash
git clone https://github.com/AsyncFuncAI/rabbitholes.git
cd rabbitholes
```

### ç¬¬äºŒæ­¥ï¼šå®‰è£…ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼ˆä¼šåŒæ—¶å®‰è£… frontend å’Œ backend çš„ä¾èµ–ï¼‰
npm install

# å¦‚æœæ ¹ç›®å½• install ä¸åŒ…å«å­ç›®å½•ï¼Œä¹Ÿå¯ä»¥åˆ†åˆ«å®‰è£…ï¼š
cd frontend && npm install && cd ..
cd backend && npm install && cd ..
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡

åœ¨ `backend/` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# backend/.env
PORT=3001
TAVILY_API_KEY=tvly-ä½ çš„å¯†é’¥
GOOGLE_AI_API_KEY=ä½ çš„Geminiå¯†é’¥
```

> âš ï¸ **æ³¨æ„**ï¼š`.env` æ–‡ä»¶å·²è¢« `.gitignore` æ’é™¤ï¼Œä¸ä¼šè¢«æäº¤åˆ° Gitï¼Œè¯·å¦¥å–„ä¿ç®¡å¯†é’¥ã€‚

### ç¬¬å››æ­¥ï¼šå¯åŠ¨å¼€å‘æœåŠ¡å™¨

**æ–¹å¼ä¸€ï¼šåŒæ—¶å¯åŠ¨å‰åç«¯ï¼ˆæ¨èï¼‰**

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
npm run dev
```

**æ–¹å¼äºŒï¼šåˆ†åˆ«å¯åŠ¨**

```bash
# ç»ˆç«¯ 1 â€” å¯åŠ¨åç«¯ï¼ˆç«¯å£ 3001ï¼‰
npm run backend:dev

# ç»ˆç«¯ 2 â€” å¯åŠ¨å‰ç«¯ï¼ˆç«¯å£ 5173 æˆ– 3000ï¼‰
npm run frontend:dev
```

### ç¬¬äº”æ­¥ï¼šè®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š

```
http://localhost:5173
```

> åç«¯ API è¿è¡Œåœ¨ `http://localhost:3001`ï¼Œå‰ç«¯ä¼šè‡ªåŠ¨ä»£ç†è¯·æ±‚ã€‚

---

## Docker éƒ¨ç½²

é€‚åˆåœ¨æœåŠ¡å™¨ä¸Šå¿«é€Ÿè¿è¡Œï¼Œæ— éœ€é…ç½® Node.js ç¯å¢ƒã€‚

### å‰ç½®è¦æ±‚

- **Docker** â€” [ä¸‹è½½åœ°å€](https://www.docker.com/get-started)
- **Docker Compose**ï¼ˆDocker Desktop å·²å†…ç½®ï¼‰

### æ–¹å¼ä¸€ï¼šdocker-composeï¼ˆæ¨èï¼‰

1. åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆä¸ `docker-compose.yml` åŒçº§ï¼‰åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# .envï¼ˆæ”¾åœ¨ rabbitholes/ æ ¹ç›®å½•ï¼‰
TAVILY_API_KEY=tvly-ä½ çš„å¯†é’¥
GOOGLE_AI_API_KEY=ä½ çš„Geminiå¯†é’¥
```

2. å¯åŠ¨å®¹å™¨ï¼š

```bash
docker-compose up -d
```

3. è®¿é—®åº”ç”¨ï¼š`http://localhost:3000`

4. æŸ¥çœ‹æ—¥å¿—ï¼š

```bash
docker-compose logs -f
```

5. åœæ­¢æœåŠ¡ï¼š

```bash
docker-compose down
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨æ„å»ºé•œåƒ

```bash
# æ„å»ºé•œåƒ
docker build -t rabbitholes .

# è¿è¡Œå®¹å™¨ï¼ˆæ›¿æ¢ä¸ºä½ çš„å¯†é’¥ï¼‰
docker run -d \
  -p 3000:3000 \
  -e TAVILY_API_KEY=tvly-ä½ çš„å¯†é’¥ \
  -e GOOGLE_AI_API_KEY=ä½ çš„Geminiå¯†é’¥ \
  --name rabbitholes \
  rabbitholes
```

è®¿é—® `http://localhost:3000`

---

## Railway ä¸€é”®éƒ¨ç½²

é€‚åˆæƒ³è¦å¿«é€Ÿä¸Šçº¿å…¬ç½‘è®¿é—®çš„ç”¨æˆ·ï¼ŒRailway æä¾›å…è´¹è¯•ç”¨é¢åº¦ã€‚

### æ­¥éª¤

1. ç‚¹å‡»é¡¶éƒ¨çš„ **Deploy on Railway** æŒ‰é’®
2. ä½¿ç”¨ GitHub è´¦å·ç™»å½• Railway
3. Fork è¿™ä¸ªä»“åº“ï¼ˆRailway éœ€è¦è®¿é—®ä½ çš„ GitHubï¼‰
4. åœ¨ Railway é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š

   | å˜é‡å | å€¼ |
   |---|---|
   | `TAVILY_API_KEY` | tvly-ä½ çš„å¯†é’¥ |
   | `GOOGLE_AI_API_KEY` | ä½ çš„Geminiå¯†é’¥ |

5. Railway ä¼šè‡ªåŠ¨æ£€æµ‹ `Dockerfile` å¹¶å¼€å§‹æ„å»ºï¼Œçº¦ 2-5 åˆ†é’Ÿåéƒ¨ç½²å®Œæˆ
6. åœ¨ Railway æ§åˆ¶å°è·å–ä½ çš„å…¬ç½‘è®¿é—®åŸŸå

---

## ç¯å¢ƒå˜é‡è¯´æ˜

### åç«¯å˜é‡ï¼ˆ`backend/.env`ï¼‰

| å˜é‡å | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|---|---|---|---|
| `PORT` | å¦ | `3001` | åç«¯ç›‘å¬ç«¯å£ |
| `TAVILY_API_KEY` | **æ˜¯** | â€” | Tavily æœç´¢ API Key |
| `GOOGLE_AI_API_KEY` | **æ˜¯** | â€” | Google Gemini API Key |

### å‰ç«¯å˜é‡ï¼ˆå¼€å‘æ—¶å¯é€‰ï¼‰

| å˜é‡å | é»˜è®¤å€¼ | è¯´æ˜ |
|---|---|---|
| `REACT_APP_API_URL` | `/api` | åç«¯ API åœ°å€ï¼ˆç”Ÿäº§ç¯å¢ƒèµ°åŒåŸŸä»£ç†ï¼‰ |

> æœ¬åœ°å¼€å‘æ—¶å‰ç«¯é»˜è®¤è¯·æ±‚ `http://localhost:3001/api`ï¼Œé€šè¿‡ Vite ä»£ç†è‡ªåŠ¨è½¬å‘ã€‚

---

## é¡¹ç›®ç»“æ„

```
rabbitholes/
â”œâ”€â”€ frontend/                      # React å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchView.tsx     # ä¸»é¡µé¢ï¼ˆæœç´¢ + ç”»å¸ƒï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ RabbitFlow.tsx     # React Flow ç”»å¸ƒç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomBranchInput.tsx  # è‡ªå®šä¹‰åˆ†æ”¯è¾“å…¥
â”‚   â”‚   â”‚   â””â”€â”€ nodes/
â”‚   â”‚   â”‚       â””â”€â”€ MainNode.tsx   # ä¸»å†…å®¹å¡èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ api.ts             # API è¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/                       # Express åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ server.ts              # æœåŠ¡å™¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â””â”€â”€ rabbithole.ts      # æ ¸å¿ƒ API è·¯ç”±
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â””â”€â”€ openaiService.ts   # AI æœåŠ¡è°ƒç”¨
â”‚   â”œâ”€â”€ .env                       # ç¯å¢ƒå˜é‡ï¼ˆè‡ªè¡Œåˆ›å»ºï¼‰
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ rabbitholes-main-template.json  # JSON æ¨¡æ¿ï¼šå®Œæ•´ä¸»å†…å®¹å¡
â”œâ”€â”€ rabbitholes-branch-template.json # JSON æ¨¡æ¿ï¼šåˆ†æ”¯é—®é¢˜é¢„ç½®
â”‚
â”œâ”€â”€ Dockerfile                     # ç”Ÿäº§é•œåƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ docker-compose.yml             # Docker Compose é…ç½®
â”œâ”€â”€ railway.toml                   # Railway éƒ¨ç½²é…ç½®
â””â”€â”€ package.json                   # æ ¹å·¥ä½œåŒºé…ç½®
```

---

## JSON å¯¼å…¥/å¯¼å‡º

åº”ç”¨æ”¯æŒå°†æ•´ä¸ªæ¢ç´¢ä¼šè¯ä¿å­˜ä¸º JSON æ–‡ä»¶ï¼Œå¹¶åœ¨ä¹‹åé‡æ–°å¯¼å…¥æ¢å¤ã€‚

### å¯¼å‡º

åœ¨ç”»å¸ƒç•Œé¢å·¦ä¸Šè§’ç‚¹å‡» **ã€Œå¯¼å‡º JSONã€** æŒ‰é’®ï¼Œæµè§ˆå™¨å°†è‡ªåŠ¨ä¸‹è½½ä¸€ä¸ª `.json` æ–‡ä»¶ï¼ŒåŒ…å«å½“å‰æ‰€æœ‰èŠ‚ç‚¹ã€è¾¹ã€é—®é¢˜å’Œå¯¹è¯å†å²ã€‚

### å¯¼å…¥ï¼ˆå®Œæ•´ä¼šè¯ï¼‰

1. ç‚¹å‡»å·¦ä¸Šè§’ **ã€Œå¯¼å…¥ JSONã€** æŒ‰é’®ï¼ˆåœ¨æœç´¢é¦–é¡µæˆ–ç”»å¸ƒé¡µå‡å¯æ“ä½œï¼‰
2. é€‰æ‹©ä¹‹å‰å¯¼å‡ºçš„ `.json` æ–‡ä»¶
3. ç”»å¸ƒå°†è‡ªåŠ¨æ¢å¤åˆ°å¯¼å‡ºæ—¶çš„çŠ¶æ€

### å¯¼å…¥ï¼ˆä»…åˆ†æ”¯æ¨¡æ¿ï¼‰

é¡¹ç›®æ ¹ç›®å½•æä¾›äº† `rabbitholes-branch-template.json` æ–‡ä»¶ï¼Œå¯ä»¥åœ¨æœç´¢**ä¹‹å‰**å¯¼å…¥ï¼Œé¢„ç½®è‡ªå®šä¹‰åˆ†æ”¯é—®é¢˜ã€‚åœ¨æœç´¢é¦–é¡µç‚¹å‡» **ã€Œå¯¼å…¥ JSONã€** å¹¶é€‰æ‹©è¯¥æ–‡ä»¶ï¼Œåˆ†æ”¯é—®é¢˜æ ‡ç­¾å°†è‡ªåŠ¨å¡«å……ã€‚

---

## å¸¸è§é—®é¢˜

**Q: å¯åŠ¨åè®¿é—®é¡µé¢ä¸€ç›´ loadingï¼Ÿ**
> æ£€æŸ¥ `backend/.env` ä¸­çš„ API Key æ˜¯å¦æ­£ç¡®é…ç½®ï¼Œæ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· Network é¢æ¿æŸ¥çœ‹æŠ¥é”™ä¿¡æ¯ã€‚

**Q: æŠ¥é”™ `TAVILY_API_KEY is not defined`ï¼Ÿ**
> ç¡®ä¿åœ¨ `backend/` ç›®å½•ä¸‹åˆ›å»ºäº† `.env` æ–‡ä»¶ï¼Œä¸”æ–‡ä»¶ä¸­æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼ï¼ˆ`KEY= value` åº”æ”¹ä¸º `KEY=value`ï¼‰ã€‚

**Q: å‰ç«¯å¯åŠ¨åæç¤º `Cannot find module`ï¼Ÿ**
> åˆ†åˆ«åœ¨ `frontend/` å’Œ `backend/` ç›®å½•å„æ‰§è¡Œä¸€æ¬¡ `npm install`ã€‚

**Q: Docker æ„å»ºå¤±è´¥ï¼Ÿ**
> ç¡®ä¿ Docker å®ˆæŠ¤è¿›ç¨‹å·²å¯åŠ¨ï¼Œå¹¶ä¸”ç½‘ç»œå¯ä»¥è®¿é—® npm é•œåƒæºã€‚å›½å†…ç”¨æˆ·å¯ä»¥åœ¨ Dockerfile ä¸­é…ç½® npm é•œåƒã€‚

**Q: Railway éƒ¨ç½²åå‰ç«¯æ— æ³•è®¿é—® APIï¼Ÿ**
> Railway ä¼šå°†å‰åç«¯åˆå¹¶ä¸ºå•ä¸ªæœåŠ¡ï¼Œå‰ç«¯è¯·æ±‚ä¼šé€šè¿‡åŒåŸŸ `/api` è·¯å¾„è½¬å‘ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

---

## ç³»ç»Ÿæ¶æ„

```mermaid
graph TD
    subgraph "å‰ç«¯å±‚"
        UI[React UI]
        RF[React Flow å¯è§†åŒ–]
        Store[çŠ¶æ€ç®¡ç†]
        UI --> RF
        UI <--> Store
        RF <--> Store
    end

    subgraph "åç«¯æ ¸å¿ƒ"
        API[Express API ç½‘å…³]
        Router[è·¯ç”±å¤„ç†å™¨]
        QP[æŸ¥è¯¢å¤„ç†å™¨]
        CO[å¯¹è¯ç¼–æ’å™¨]
        API --> Router
        Router --> QP
        QP --> CO
    end

    subgraph "AI æœåŠ¡å±‚"
        TS[Tavily æœç´¢]
        GE[Gemini å¼•æ“]
        PP[æç¤ºè¯å¤„ç†å™¨]
    end

    Store <--> API
    Router <--> TS
    CO <--> PP
    PP <--> GE
```

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/æ–°åŠŸèƒ½åç§°`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'feat: æ·»åŠ æŸæŸåŠŸèƒ½'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/æ–°åŠŸèƒ½åç§°`
5. å‘èµ· Pull Request

---

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚
åŸé¡¹ç›®: https://github.com/AsyncFuncAI/rabbitholes

---

Built with â¤ï¸ | Powered by [Tavily](https://tavily.com) & [Google Gemini](https://aistudio.google.com)
